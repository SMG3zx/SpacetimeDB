---
source: crates/codegen/tests/codegen.rs
assertion_line: 37
expression: outfiles
---
"client.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"errors"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

type Result[T any, E any] struct {
	Ok  *T
	Err *E
}

type ScheduleAt struct {
	Tag   string `json:"tag"`
	Value any    `json:"value,omitempty"`
}

type Client struct {
	conn *connection.Connection
}

func NewClient(conn *connection.Connection) *Client {
	return &Client{conn: conn}
}

func (c *Client) Connection() *connection.Connection { return c.conn }

func (c *Client) CallReducer(ctx context.Context, reducer string, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	if c == nil || c.conn == nil {
		return 0, errors.New("spacetimedb client is not connected")
	}
	if ctx != nil {
		select {
		case <-ctx.Done():
			return 0, ctx.Err()
		default:
		}
	}
	return c.conn.CallReducer(reducer, args, callback)
}

func (c *Client) CallProcedure(ctx context.Context, procedure string, args []byte, callback connection.ProcedureResultCallback) (uint32, error) {
	if c == nil || c.conn == nil {
		return 0, errors.New("spacetimedb client is not connected")
	}
	if ctx != nil {
		select {
		case <-ctx.Done():
			return 0, ctx.Err()
		default:
		}
	}
	return c.conn.CallProcedure(procedure, args, callback)
}

func (c *Client) OneOffQuery(ctx context.Context, query string, callback connection.OneOffQueryResultCallback) (uint32, error) {
	if c == nil || c.conn == nil {
		return 0, errors.New("spacetimedb client is not connected")
	}
	if ctx != nil {
		select {
		case <-ctx.Done():
			return 0, ctx.Err()
		default:
		}
	}
	return c.conn.OneOffQuery(query, callback)
}
'''
"procedures_get_my_schema_via_http.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallGetMySchemaViaHttp(ctx context.Context, args []byte, callback connection.ProcedureResultCallback) (uint32, error) {
	return c.CallProcedure(ctx, "get_my_schema_via_http", args, callback)
}
'''
"procedures_return_value.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallReturnValue(ctx context.Context, args []byte, callback connection.ProcedureResultCallback) (uint32, error) {
	return c.CallProcedure(ctx, "return_value", args, callback)
}
'''
"procedures_sleep_one_second.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallSleepOneSecond(ctx context.Context, args []byte, callback connection.ProcedureResultCallback) (uint32, error) {
	return c.CallProcedure(ctx, "sleep_one_second", args, callback)
}
'''
"procedures_with_tx.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallWithTx(ctx context.Context, args []byte, callback connection.ProcedureResultCallback) (uint32, error) {
	return c.CallProcedure(ctx, "with_tx", args, callback)
}
'''
"reducers_add.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallAdd(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "add", args, callback)
}
'''
"reducers_add_player.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallAddPlayer(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "add_player", args, callback)
}
'''
"reducers_add_private.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallAddPrivate(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "add_private", args, callback)
}
'''
"reducers_assert_caller_identity_is_module_identity.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallAssertCallerIdentityIsModuleIdentity(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "assert_caller_identity_is_module_identity", args, callback)
}
'''
"reducers_delete_player.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallDeletePlayer(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "delete_player", args, callback)
}
'''
"reducers_delete_players_by_name.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallDeletePlayersByName(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "delete_players_by_name", args, callback)
}
'''
"reducers_list_over_age.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallListOverAge(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "list_over_age", args, callback)
}
'''
"reducers_log_module_identity.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallLogModuleIdentity(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "log_module_identity", args, callback)
}
'''
"reducers_query_private.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallQueryPrivate(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "query_private", args, callback)
}
'''
"reducers_say_hello.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallSayHello(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "say_hello", args, callback)
}
'''
"reducers_test.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallTest(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "test", args, callback)
}
'''
"reducers_test_btree_index_args.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"context"
	"github.com/clockworklabs/spacetimedb/sdks/go/connection"
)

func (c *Client) CallTestBtreeIndexArgs(ctx context.Context, args []byte, callback connection.ReducerResultCallback) (uint32, error) {
	return c.CallReducer(ctx, "test_btree_index_args", args, callback)
}
'''
"schema.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

var TableAccessors = []string{
	"logged_out_player",
	"my_player",
	"person",
	"player",
	"test_d",
	"test_f",
}

var ReducerNames = []string{
	"add",
	"add_player",
	"add_private",
	"assert_caller_identity_is_module_identity",
	"delete_player",
	"delete_players_by_name",
	"list_over_age",
	"log_module_identity",
	"query_private",
	"say_hello",
	"test",
	"test_btree_index_args",
}

var ProcedureNames = []string{
	"get_my_schema_via_http",
	"return_value",
	"sleep_one_second",
	"with_tx",
}
'''
"tables_logged_out_player.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type LoggedOutPlayerTable struct {}

func NewLoggedOutPlayerTable() LoggedOutPlayerTable {
	return LoggedOutPlayerTable{}
}

func (LoggedOutPlayerTable) Name() string { return "logged_out_player" }
func (LoggedOutPlayerTable) Accessor() string { return "logged_out_player" }

type LoggedOutPlayerTableRow = Player
'''
"tables_my_player.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type MyPlayerTable struct {}

func NewMyPlayerTable() MyPlayerTable {
	return MyPlayerTable{}
}

func (MyPlayerTable) Name() string { return "my_player" }
func (MyPlayerTable) Accessor() string { return "my_player" }

type MyPlayerTableRow = Player
'''
"tables_person.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type PersonTable struct {}

func NewPersonTable() PersonTable {
	return PersonTable{}
}

func (PersonTable) Name() string { return "person" }
func (PersonTable) Accessor() string { return "person" }

type PersonTableRow = Person
'''
"tables_player.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type PlayerTable struct {}

func NewPlayerTable() PlayerTable {
	return PlayerTable{}
}

func (PlayerTable) Name() string { return "player" }
func (PlayerTable) Accessor() string { return "player" }

type PlayerTableRow = Player
'''
"tables_test_d.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type TestDTable struct {}

func NewTestDTable() TestDTable {
	return TestDTable{}
}

func (TestDTable) Name() string { return "test_d" }
func (TestDTable) Accessor() string { return "test_d" }

type TestDTableRow = TestD
'''
"tables_test_f.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type TestFTable struct {}

func NewTestFTable() TestFTable {
	return TestFTable{}
}

func (TestFTable) Name() string { return "test_f" }
func (TestFTable) Accessor() string { return "test_f" }

type TestFTableRow = TestFoobar
'''
"types_Baz.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type Baz struct {
	Field string `json:"field"`
}
'''
"types_Foobar.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type FoobarTag string

const (
	FoobarTagBaz FoobarTag = "Baz"
	FoobarTagBar FoobarTag = "Bar"
	FoobarTagHar FoobarTag = "Har"
)

type Foobar struct {
	Tag   FoobarTag `json:"tag"`
	Value any         `json:"value,omitempty"`
}
'''
"types_HasSpecialStuff.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type HasSpecialStuff struct {
	Identity string `json:"identity"`
	ConnectionId string `json:"connection_id"`
}
'''
"types_Namespace_TestC.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type NamespaceTestC uint8

const (
	NamespaceTestCFoo NamespaceTestC = iota
	NamespaceTestCBar
)
'''
"types_Namespace_TestF.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type NamespaceTestFTag string

const (
	NamespaceTestFTagFoo NamespaceTestFTag = "Foo"
	NamespaceTestFTagBar NamespaceTestFTag = "Bar"
	NamespaceTestFTagBaz NamespaceTestFTag = "Baz"
)

type NamespaceTestF struct {
	Tag   NamespaceTestFTag `json:"tag"`
	Value any         `json:"value,omitempty"`
}
'''
"types_Person.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type Person struct {
	Id uint32 `json:"id"`
	Name string `json:"name"`
	Age uint8 `json:"age"`
}
'''
"types_PkMultiIdentity.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type PkMultiIdentity struct {
	Id uint32 `json:"id"`
	Other uint32 `json:"other"`
}
'''
"types_Player.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type Player struct {
	Identity string `json:"identity"`
	PlayerId uint64 `json:"player_id"`
	Name string `json:"name"`
}
'''
"types_Point.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type Point struct {
	X int64 `json:"x"`
	Y int64 `json:"y"`
}
'''
"types_PrivateTable.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type PrivateTable struct {
	Name string `json:"name"`
}
'''
"types_RemoveTable.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type RemoveTable struct {
	Id uint32 `json:"id"`
}
'''
"types_RepeatingTestArg.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

import (
	"time"
)

type RepeatingTestArg struct {
	ScheduledId uint64 `json:"scheduled_id"`
	ScheduledAt ScheduleAt `json:"scheduled_at"`
	PrevTime time.Time `json:"prev_time"`
}
'''
"types_TestA.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type TestA struct {
	X uint32 `json:"x"`
	Y uint32 `json:"y"`
	Z string `json:"z"`
}
'''
"types_TestB.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type TestB struct {
	Foo string `json:"foo"`
}
'''
"types_TestD.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type TestD struct {
	TestC *NamespaceTestC `json:"test_c"`
}
'''
"types_TestE.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type TestE struct {
	Id uint64 `json:"id"`
	Name string `json:"name"`
}
'''
"types_TestFoobar.go" = '''
// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

package module_bindings

type TestFoobar struct {
	Field Foobar `json:"field"`
}
'''
